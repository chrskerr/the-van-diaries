import{S as s,i as a,s as e,e as r,p as t,c as n,a as l,q as c,d as m,o as i,f as o,r as h,w as p,x as f,y as $,g,j as u,t as d,l as v,b as w,h as k,D as E,K as j,C as D}from"../../chunks/index-24dd8b8a.js";import{H as I,F as x}from"../../chunks/Footer-c07475a9.js";import{M as V}from"../../chunks/Map-430ad4c5.js";import"../../chunks/singletons-99df0d8a.js";function y(s){let a,e,g;return e=new V({props:{centre:s[0].latLng,zoom:12,size:"small",markers:[s[0]],preventInteraction:!0}}),{c(){a=r("div"),t(e.$$.fragment),this.h()},l(s){a=n(s,"DIV",{class:!0});var r=l(a);c(e.$$.fragment,r),r.forEach(m),this.h()},h(){i(a,"class","post-header-map svelte-1r03nwk")},m(s,r){o(s,a,r),h(e,a,null),g=!0},p(s,a){const r={};1&a&&(r.centre=s[0].latLng),1&a&&(r.markers=[s[0]]),e.$set(r)},i(s){g||(p(e.$$.fragment,s),g=!0)},o(s){f(e.$$.fragment,s),g=!1},d(s){s&&m(a),$(e)}}}function L(s){let a,e,t;return{c(){a=r("div"),e=r("img"),this.h()},l(s){a=n(s,"DIV",{class:!0});var r=l(a);e=n(r,"IMG",{src:!0,alt:!0,class:!0}),r.forEach(m),this.h()},h(){e.src!==(t=s[0].image)&&i(e,"src",t),i(e,"alt",""),i(e,"class","svelte-1r03nwk"),i(a,"class","image right svelte-1r03nwk")},m(s,r){o(s,a,r),g(a,e)},p(s,a){1&a&&e.src!==(t=s[0].image)&&i(e,"src",t)},d(s){s&&m(a)}}}function H(s){let a,e,V,H,M,b,z,F,q,A,C,G,K,P,R,S,B,J,N=s[0].title+"",O=s[0].summary+"",Q=s[0].html+"";a=new I({});let T=s[0].latLng&&y(s),U=s[0].image&&L(s);return B=new x({}),{c(){t(a.$$.fragment),e=u(),V=r("div"),H=r("div"),M=r("div"),b=r("header"),z=r("h1"),F=d(N),q=u(),T&&T.c(),A=u(),C=r("p"),G=d(O),K=u(),U&&U.c(),P=u(),S=u(),t(B.$$.fragment),this.h()},l(s){c(a.$$.fragment,s),e=v(s),V=n(s,"DIV",{id:!0,class:!0});var r=l(V);H=n(r,"DIV",{class:!0});var t=l(H);M=n(t,"DIV",{class:!0});var i=l(M);b=n(i,"HEADER",{class:!0});var o=l(b);z=n(o,"H1",{class:!0});var h=l(z);F=w(h,N),h.forEach(m),q=v(o),T&&T.l(o),A=v(o),C=n(o,"P",{class:!0});var p=l(C);G=w(p,O),p.forEach(m),o.forEach(m),K=v(i),U&&U.l(i),P=v(i),i.forEach(m),t.forEach(m),r.forEach(m),S=v(s),c(B.$$.fragment,s),this.h()},h(){i(z,"class","svelte-1r03nwk"),i(C,"class","svelte-1r03nwk"),i(b,"class","major svelte-1r03nwk"),R=new j(null),i(M,"class","inner svelte-1r03nwk"),i(H,"class","wrapper svelte-1r03nwk"),i(V,"id","main"),i(V,"class","svelte-1r03nwk")},m(s,r){h(a,s,r),o(s,e,r),o(s,V,r),g(V,H),g(H,M),g(M,b),g(b,z),g(z,F),g(b,q),T&&T.m(b,null),g(b,A),g(b,C),g(C,G),g(M,K),U&&U.m(M,null),g(M,P),R.m(Q,M),o(s,S,r),h(B,s,r),J=!0},p(s,[a]){(!J||1&a)&&N!==(N=s[0].title+"")&&k(F,N),s[0].latLng?T?(T.p(s,a),1&a&&p(T,1)):(T=y(s),T.c(),p(T,1),T.m(b,A)):T&&(D(),f(T,1,1,(()=>{T=null})),E()),(!J||1&a)&&O!==(O=s[0].summary+"")&&k(G,O),s[0].image?U?U.p(s,a):(U=L(s),U.c(),U.m(M,P)):U&&(U.d(1),U=null),(!J||1&a)&&Q!==(Q=s[0].html+"")&&R.p(Q)},i(s){J||(p(a.$$.fragment,s),p(T),p(B.$$.fragment,s),J=!0)},o(s){f(a.$$.fragment,s),f(T),f(B.$$.fragment,s),J=!1},d(s){$(a,s),s&&m(e),s&&m(V),T&&T.d(),U&&U.d(),s&&m(S),$(B,s)}}}async function M({page:s,fetch:a}){const e=`/places/${s.params.slug}.json`,r=await a(e);return r.ok?{props:await r.json()}:{status:301,redirect:"/places"}}function b(s,a,e){let{place:r}=a;return s.$$set=s=>{"place"in s&&e(0,r=s.place)},[r]}export default class extends s{constructor(s){super(),a(this,s,b,H,e,{place:0})}}export{M as load};
